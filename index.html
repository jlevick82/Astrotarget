<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AstroTarget v1.0</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h1>🌌 AstroTarget v1.0</h1>
    <p>Select a catalog, search objects, or find tonight’s top picks.</p>
    <div id="gpsClock">
      <p>🕒 UTC: <span id="utcTime">--:--:--</span> | Local: <span id="localTime">--:--:--</span></p>
      <p id="gpsLocation">📍 Location: --</p>
      <button id="syncBtn">🔄 Sync Now</button>
    </div>
  </header>

  <!-- Top Bar -->
  <section id="topBar">
    <select id="catalogSelect">
      <option value="Messier" selected>Messier</option>
      <option value="Caldwell">Caldwell</option>
      <option value="BrightNGC">Bright NGC</option>
      <option value="All">All Catalogs</option>
    </select>
    <input type="text" id="searchBox" placeholder="🔍 Search objects...">
    <button id="topTonightBtn">⭐ Top 5 Tonight</button>
    <button id="apodBtn">📅 APOD</button>
  </section>

  <main>
    <h2 id="catalogName">Messier</h2>
    <div id="loadingSpinner" class="spinner hidden"></div>
    <div id="emptyState" class="empty-state hidden">
      <img src="images/full/placeholder.jpg" alt="No results">
      <p>No objects found. Try adjusting filters or search terms.</p>
    </div>
    <div id="results" class="results-grid"></div>

    <!-- APOD Section -->
    <section id="apodSection" class="hidden">
      <h2>📅 Astronomy Picture of the Day</h2>
      <div id="apodContent"></div>
    </section>
  </main>

  <!-- Modal -->
  <div id="objectModal" class="modal">
    <div class="modal-content">
      <span class="close-btn">&times;</span>
      <span class="nav-btn left-btn">&#10094;</span>
      <span class="nav-btn right-btn">&#10095;</span>
      <span class="fullscreen-btn">&#x26F6;</span>
      <img id="modalImage" src="" alt="">
      <h2 id="modalTitle"></h2>
      <div class="modal-stats">
        <p id="modalType"></p>
        <p id="modalMag"></p>
        <p id="modalSize"></p>
      </div>
      <p id="modalDesc"></p>
    </div>
  </div>

  <!-- Settings -->
  <section id="settings">
    <h2>⚙️ Settings</h2>
    <button id="toggleSettingsBtn">Show Advanced Settings ▼</button>
    <div id="advancedSettings" class="hidden">
      <label>
        <input type="checkbox" id="cacheToggle">
        Cache images for offline use
      </label>
      <p id="cacheStatus" class="status-text"></p>
      <button id="clearCacheBtn">🗑️ Clear Cached Images</button>
      <hr>
      <label>
        <input type="checkbox" id="redModeToggle">
        Enable Red Light Mode
      </label>
      <hr>
      <label for="altSlider">Minimum altitude for Top 5 Tonight: <span id="altValue">20°</span></label>
      <input type="range" id="altSlider" min="0" max="60" step="5" value="20">
      <hr>
      <h3>🔭 Scope Settings</h3>
      <label>Focal Length (mm): <input type="number" id="scopeFocal" value="400"></label><br>
      <label>Sensor Width (mm): <input type="number" id="sensorWidth" value="11"></label><br>
      <label>Sensor Height (mm): <input type="number" id="sensorHeight" value="11"></label><br>
      <button onclick="updateScope()">Save Scope Settings</button>
      <hr>
      <label>
        <input type="checkbox" id="debugToggle">
        Enable Debug Panel
      </label>
      <div id="debugPanel" class="debug hidden">
        <button id="clearDebugBtn">🗑️ Clear Log</button>
        <div id="debugMessages"></div>
      </div>
    </div>
  </section>

  <!-- About -->
  <section id="about">
    <h2>ℹ️ About AstroTarget</h2>
    <p><strong>Version:</strong> 1.0</p>
    <p><strong>Credits:</strong> Messier, Caldwell, Bright NGC catalogs • NASA APOD • ISS Transit API</p>
    <p><strong>Developer:</strong> AstroTarget Project</p>
    <p>
      <a href="https://github.com/jlevick82/Astrotarget" target="_blank">GitHub Repository</a>
    </p>
    <p>
      <a href="https://apod.nasa.gov/apod/astropix.html" target="_blank">NASA APOD</a> |
      <a href="https://spotthestation.nasa.gov" target="_blank">ISS Tracker</a>
    </p>
  </section>

  <footer>
    <p>🔭 AstroTarget v1.0 — Data from Messier, Caldwell, Bright NGC catalogs. Images © NASA/ESA/Hubble where credited.</p>
    <p id="lastUpdated">Last updated: --</p>
  </footer>

  <!-- Catalog Data -->
  <script src="messier.js"></script>
  <script src="caldwell.js"></script>
  <script src="brightngc.js"></script>

  <!-- Main App Logic -->
  <script src="main.js"></script>
</body>
</html>
