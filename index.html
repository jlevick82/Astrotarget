<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Nightly Go/No-Go</title>
<style>
  :root{
    --bg:#0e1a22; --bg-elev:#122330; --card:#142a39; --card-2:#0f2330;
    --ink:#d9e6ef; --ink-dim:#a9c0cd;
    --accent:#2a78ff; --accent-ink:#e6f0ff;
    --ok:#20c997; --warn:#ffcc66; --bad:#ff6b6b;
    --chip:#1c3446; --chip-ink:#cfe3ee; --ring:rgba(255,255,255,.08);
    --shadow:0 10px 30px rgba(0,0,0,.35);
    --radius:16px; --radius-lg:22px; --gap:16px; --pad:18px; --pad-sm:12px; --blur:16px;
  }
  .night{ --bg:#060808; --bg-elev:#0a0a0a; --card:#110707; --card-2:#130808;
    --ink:#ffbdbd; --ink-dim:#ff9e9e;
    --accent:#ff4d4d; --accent-ink:#330000;
    --ok:#67ffb5; --warn:#ffd28d; --bad:#ff7b7b;
    --chip:#1a0b0b; --chip-ink:#ffc8c8; --ring:rgba(255,120,120,.2); }
  html,body{height:100%}
  body{margin:0; font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;
    color:var(--ink);
    background:radial-gradient(1200px 400px at 20% -60%, rgba(48,116,170,.25), transparent 60%),
      radial-gradient(1200px 500px at 80% -80%, rgba(24,66,110,.22), transparent 60%), var(--bg);}
  .container{max-width:980px; margin:24px auto 120px; padding:0 16px}
  header h1{margin:0 0 6px 0; font-size:38px}
  header .ver{opacity:.6; margin-left:8px; font-size:14px}
  .toolbar{display:flex; gap:12px; flex-wrap:wrap; margin:16px 0 6px}
  .btn{border:none; background:var(--chip); color:var(--chip-ink);
    padding:10px 16px; border-radius:28px; cursor:pointer;
    box-shadow:inset 0 0 0 1px var(--ring);}
  .btn-toggle[aria-pressed="true"]{background:var(--accent); color:var(--accent-ink)}

  .card{position:relative; background:linear-gradient(180deg, var(--card), var(--card-2));
    border-radius:var(--radius-lg); box-shadow:var(--shadow); padding:var(--pad);
    margin:18px 0; overflow:hidden;}
  .title{font-weight:700; font-size:22px; margin:0 0 14px}
  .chip{display:inline-flex; align-items:center; gap:10px; background:var(--chip);
    color:var(--chip-ink); border-radius:28px; padding:8px 14px; margin:6px 8px 0 0;
    box-shadow:inset 0 0 0 1px var(--ring);}
  .row{display:flex; gap:var(--gap); flex-wrap:wrap}
  .col{flex:1 1 260px}

  /* collapse buttons inside */
  details.card summary{list-style:none}
  .collapse-btn{position:absolute; right:12px; top:12px; width:42px; height:42px;
    border-radius:12px; border:none; background:rgba(255,255,255,.06); color:var(--ink);
    box-shadow:inset 0 0 0 1px var(--ring); display:grid; place-items:center; cursor:pointer;}
  details.card[open] .collapse-btn span{transform:rotate(180deg)}
  .collapse-btn span{transition:transform .25s ease}

  /* status banner */
  .status-banner{margin:8px 0 10px; padding:14px 16px; border-radius:16px; font-weight:800; font-size:20px}
  .banner-go{background:rgba(32,201,151,.15); color:#aef3d7}
  .banner-nogo{background:rgba(255,107,107,.18); color:#ffd5d5}

  /* Sky card grid */
  .sky-grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); gap:var(--gap)}
  .stat{background:rgba(255,255,255,.03); border-radius:var(--radius); padding:14px 16px;
    box-shadow:inset 0 0 0 1px var(--ring)}
  .stat .k{font-size:14px; color:var(--ink-dim)}
  .stat .v{font-size:24px; font-weight:800; margin-top:6px}
  .stat.ok .v{color:var(--ok)} .stat.warn .v{color:var(--warn)} .stat.bad .v{color:var(--bad)}

  /* catalog */
  .table-wrap{max-height:360px; overflow:auto; border-radius:var(--radius); box-shadow:inset 0 0 0 1px var(--ring)}
  .catalog-table{width:100%; border-collapse:separate; border-spacing:0; min-width:560px;}
  th,td{padding:12px 14px; border-bottom:1px solid rgba(255,255,255,.06); vertical-align:middle}
  th{color:var(--ink-dim); font-weight:600; text-align:left; position:sticky; top:0; background:var(--card-2)}
  .thumb{width:64px; height:64px; border-radius:12px; object-fit:cover; background:#1a1f29}
</style>
</head>
<body>
<div class="container">
  <header>
    <h1>Go/No-Go <span class="ver">v27.2</span></h1>
    <div class="toolbar">
      <button id="btnCompact" class="btn btn-toggle" aria-pressed="false">Compact Off</button>
      <button id="btnNight" class="btn btn-toggle" aria-pressed="false">Night Mode</button>
    </div>
  </header>

  <details id="statusCard" class="card" open>
    <summary class="title">Status</summary>
    <button class="collapse-btn"><span>▾</span></button>
    <div id="statusBanner" class="status-banner banner-go">GO · Clouds ~0% · Vis 18 km · Astro dark</div>
    <div class="inline">
      <div class="chip" id="chipUpdated">Updated —:—</div>
      <div class="chip" id="chipSunAlt">Sun alt —°</div>
      <div class="chip" id="chipMoon">Moon —%</div>
      <div class="chip" id="chipAlt">Alt —°</div>
    </div>
  </details>

  <details id="skyCard" class="card" open>
    <summary class="title">Sky</summary>
    <button class="collapse-btn"><span>▾</span></button>
    <div class="sky-grid">
      <div class="stat ok"><div class="k">Astronomical dark</div><div class="v">Yes</div><div class="k">Sun alt —°</div></div>
      <div class="stat"><div class="k">Moon illum</div><div class="v">—%</div><div class="k">Alt —°</div></div>
      <div class="stat"><div class="k">Humidity</div><div class="v">—%</div></div>
      <div class="stat"><div class="k">Transparency</div><div class="v">—</div><div class="k">—</div></div>
    </div>
  </details>

  <details id="catCard" class="card" open>
    <summary class="title">Catalog (subset)</summary>
    <button class="collapse-btn"><span>▾</span></button>
    <div class="table-wrap">
      <table class="catalog-table">
        <thead><tr><th>Name</th><th>Type</th><th>RA</th><th>Dec</th><th>Image</th></tr></thead>
        <tbody>
          <tr><td>Andromeda Galaxy</td><td>GX</td><td>0.71h</td><td>41.3°</td><td><img class="thumb" src="https://upload.wikimedia.org/wikipedia/commons/5/55/Andromeda_Galaxy_%28with_h-alpha%29.jpg" /></td></tr>
          <tr><td>Triangulum Galaxy</td><td>GX</td><td>1.55h</td><td>30.7°</td><td><img class="thumb" src="https://upload.wikimedia.org/wikipedia/commons/9/98/M33LRGB_1.JPG" /></td></tr>
          <tr><td>Dumbbell Nebula</td><td>PN</td><td>19.89h</td><td>22.7°</td><td><img class="thumb" src="https://upload.wikimedia.org/wikipedia/commons/5/5f/M27_-_Dumbbell_Nebula.jpg" /></td></tr>
          <tr><td>Ring Nebula</td><td>PN</td><td>18.89h</td><td>33.0°</td><td><img class="thumb" src="https://upload.wikimedia.org/wikipedia/commons/7/72/M57_The_Ring_Nebula.JPG" /></td></tr>
          <tr><td>Hercules Globular</td><td>GC</td><td>16.70h</td><td>36.5°</td><td><img class="thumb" src="https://upload.wikimedia.org/wikipedia/commons/8/8b/M13_-_Great_Globular_Cluster_in_Hercules.jpg" /></td></tr>
        </tbody>
      </table>
    </div>
  </details>
</div>

<script>
const state={clouds:0};
function refreshBanner(){
  const ok=state.clouds<=30;
  const b=document.getElementById('statusBanner');
  b.classList.toggle('banner-go',ok);
  b.classList.toggle('banner-nogo',!ok);
  b.textContent=`${ok?'GO':'NO-GO'} · Clouds ~${state.clouds}% · Vis 18 km · Astro dark`;
}
refreshBanner();
</script>
</body>
</html>
