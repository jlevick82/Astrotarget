<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0b0f14">
  <title>Go / No-Go — AstroTarget</title>
  <link rel="preload" as="image" href="assets/logo-256.webp">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Splash / Loader -->
  <section id="splash" class="splash">
    <img class="logo" src="assets/logo-256.webp" alt="AstroTarget logo" width="200" height="200">
    <h1>AstroTarget</h1>
    <p class="tag">Initializing field planner…</p>
    <div class="progress"><div id="bar"></div></div>
    <ul id="debug" class="debug"></ul>
    <div id="moonBrief" class="moon-brief small"></div>
    <div class="row">
      <button id="retry" hidden>Retry</button>
      <button id="skip">Skip to dashboard</button>
    </div>
  </section>

  <!-- Dashboard -->
  <section id="app" class="app hidden">
    <header class="bar">
      <h2>Go / No-Go</h2>
      <nav>
        <a href="../Gallery/">Gallery</a>
      </nav>
    </header>

    <section class="wrap grid-2">
      <div class="card">
        <h3>Setup</h3>
        <div class="row">
          <label>Telescope</label>
          <select id="scopeSel"></select>
          <input id="scopeFL" type="number" placeholder="Focal length (mm)" />
          <input id="scopeAp" type="number" placeholder="Aperture (mm)" />
        </div>
        <div class="row">
          <label>Camera</label>
          <select id="camSel"></select>
          <input id="camW" type="number" placeholder="Sensor width (mm)" />
          <input id="camH" type="number" placeholder="Sensor height (mm)" />
          <input id="camPx" type="number" placeholder="Pixel size (µm)" />
        </div>
        <div class="row">
          <label>Location</label>
          <input id="lat" type="number" step="0.0001" placeholder="lat" />
          <input id="lon" type="number" step="0.0001" placeholder="lon" />
          <button id="gpsBtn">Use GPS</button>
          <span id="tz"></span>
        </div>
        <div class="row">
          <label>Session</label>
          <input id="start" type="datetime-local">
          <input id="duration" type="number" min="1" value="3"> <span>hours</span>
          <button id="saveSetup">Save</button>
        </div>
        <div class="row small">
          <span id="fov">FOV: —</span>
          <span id="scale">Scale: —</span>
        </div>
      </div>

      <div class="card">
        <h3>Weather & Conditions</h3>
        <div class="row">
          <button id="fetchWx">Update Weather</button>
          <span id="wxStatus">—</span>
        </div>
        <div id="wx"></div>
        <div id="moonInfo" class="small"></div>
      </div>
    </section>

    <section class="wrap">
      <div class="card">
        <h3>Top 5 Recommendations</h3>
        <p class="small">Score considers altitude, cloud cover, and Moon separation/altitude. Requires astronomical darkness (Sun < −12°).</p>
        <ol id="top5"></ol>
      </div>
    </section>

    <section class="wrap">
      <div class="card">
        <h3>Catalog Browser (subset)</h3>
        <div class="row">
          <input id="search" placeholder="Search Messier by name/type (subset)" />
          <button id="recompute">Recompute</button>
        </div>
        <div id="table"></div>
      </div>
    </section>

    <footer class="foot">
      <span>© 2025 AstroTarget</span>
    </footer>
  </section>

  <script src="messier_subset.js"></script>
  <script src="app.js"></script>
</body>
</html>
