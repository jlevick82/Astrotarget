<!doctype html><html lang="en"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta name="theme-color" content="#0b0f14"><title>Go / No-Go</title>
<link rel="icon" href="favicon.ico"><link rel="manifest" href="manifest.webmanifest"><link rel="stylesheet" href="styles.v223.css">
</head><body>
<header class="bar"><div class="container"><nav class="tools"></nav></div></header>
<section class="info">
  <div class="container">
    <div class="left">
      <div id="statusBadge" class="badge">-</div>
      <div class="meta">
        <div id="summary">Loading...</div>
        <div class="muted"><span id="miniMoon">Moon -</span> · <span id="updatedAt">Updated: —</span></div>
      </div>
      <div class="topPick" id="topPick" style="margin-top:6px;"><span aria-hidden="true">★</span> <span id="topPickName">-</span> <span id="topPickMeta" class="muted"></span></div>
    </div>
    <div class="banner-actions">
      <a href="../Gallery/" class="button" id="btnGallery">Gallery</a>
      <button id="btnInstall" type="button" disabled>Install</button>
      <button id="btnMode" type="button" title="Switch Compact/Advanced">Advanced</button>
      <button id="btnNight" type="button" title="Switch Red/Blue">Red</button>
    </div>
  </div>
</section>
<section class="wrap grid-2">
  <div class="card" data-collapsible="setup">
    <header class="card-head"><h3>Setup</h3><button class="toggle" aria-expanded="false" aria-controls="body-setup" type="button">▸</button></header>
    <div class="card-body" id="body-setup">
      <div class="row"><label>Telescope</label><select id="scopeSel"></select>
        <input id="scopeFL" type="number" placeholder="Focal length (mm)"/><input id="scopeAp" type="number" placeholder="Aperture (mm)"/></div>
      <div class="row"><label>Reducer / Barlow</label><input id="optFactor" type="number" step="0.01" value="1.00"/><div id="chips" class="chips"></div><button id="savePreset" class="small" type="button">Save</button></div>
      <div class="row"><label>Camera</label><select id="camSel"></select>
        <input id="camW" type="number" placeholder="Sensor width (mm)"/><input id="camH" type="number" placeholder="Sensor height (mm)"/><input id="camPx" type="number" placeholder="Pixel size (um)"/></div>
      <div class="row"><label>Location</label><input id="lat" type="number" step="0.0001" placeholder="lat"/><input id="lon" type="number" step="0.0001" placeholder="lon"/><button id="gpsBtn" type="button">Use GPS</button><span id="tz"></span></div>
      <div class="row"><label>Session</label><input id="start" type="datetime-local"><input id="duration" type="number" min="1" value="3"> <span>hours</span></div>
      <div class="row"><label>Preset name</label><input id="presetName" type="text" placeholder="e.g. Edge8 + 533MC + 0.7x"><button id="btnSaveNamed" type="button">Save preset</button><select id="presetList"><option value="">Load preset…</option></select><button id="btnDeleteNamed" type="button">Delete</button></div>
      <div class="row small"><span id="fov">FOV: -</span><span id="scale">Scale: -</span><span id="effFL">Eff. FL: -</span></div>
    </div>
  </div>
  <div class="card" data-collapsible="weather">
    <header class="card-head"><h3>Weather & Conditions</h3><button class="toggle" aria-expanded="true" aria-controls="body-weather" type="button">▾</button></header>
    <div class="card-body" id="body-weather">
      <div class="row"><button id="fetchWx" type="button">Update Weather</button><span id="wxStatus">-</span></div>
      <div id="wx"></div><div id="moonInfo" class="small"></div>
      <div class="row small"><button id="offlineCache" type="button">Download offline assets</button><button id="clearOffline" type="button">Clear offline cache</button><span id="cacheState" class="small">-</span></div>
    </div>
  </div>
</section>
<section class="wrap">
  <div class="card" data-collapsible="settings">
    <header class="card-head"><h3>Settings</h3><button class="toggle" aria-expanded="false" aria-controls="body-settings" type="button">▸</button></header>
    <div class="card-body" id="body-settings">
      <div class="row small"><strong>Altitude (deg)</strong> 
        <label>Min <input id="s-alt-min" type="range" min="0" max="80" value="35" oninput="this.nextElementSibling.textContent=this.value"><span>35</span></label>
        <label>Best <input id="s-alt-best" type="range" min="20" max="90" value="60" oninput="this.nextElementSibling.textContent=this.value"><span>60</span></label>
      </div>
      <div class="row small"><strong>Clouds (%)</strong> 
        <label>Good ≤ <input id="s-cloud-good" type="range" min="0" max="60" value="25" oninput="this.nextElementSibling.textContent=this.value"><span>25</span></label>
        <label>Bad ≥ <input id="s-cloud-bad" type="range" min="40" max="100" value="60" oninput="this.nextElementSibling.textContent=this.value"><span>60</span></label>
      </div>
      <div class="row small"><strong>Wind (km/h)</strong> 
        <label>Good ≤ <input id="s-wind-good" type="range" min="0" max="25" value="10" oninput="this.nextElementSibling.textContent=this.value"><span>10</span></label>
        <label>Bad ≥ <input id="s-wind-bad" type="range" min="10" max="50" value="25" oninput="this.nextElementSibling.textContent=this.value"><span>25</span></label>
      </div>
      <div class="row small"><strong>Humidity (%)</strong> 
        <label>Good ≤ <input id="s-humid-good" type="range" min="10" max="60" value="35" oninput="this.nextElementSibling.textContent=this.value"><span>35</span></label>
        <label>Bad ≥ <input id="s-humid-bad" type="range" min="60" max="100" value="85" oninput="this.nextElementSibling.textContent=this.value"><span>85</span></label>
      </div>
      <div class="row small"><strong>Visibility (km)</strong> 
        <label>Bad ≤ <input id="s-vis-bad" type="range" min="1" max="20" value="8" oninput="this.nextElementSibling.textContent=this.value"><span>8</span></label>
        <label>Good ≥ <input id="s-vis-good" type="range" min="5" max="30" value="15" oninput="this.nextElementSibling.textContent=this.value"><span>15</span></label>
      </div>
      <div class="row small"><strong>Moon separation (deg)</strong> 
        <label>Tight <input id="s-moon-tight" type="range" min="5" max="90" value="20" oninput="this.nextElementSibling.textContent=this.value"><span>20</span></label>
        <label>Loose <input id="s-moon-loose" type="range" min="20" max="120" value="45" oninput="this.nextElementSibling.textContent=this.value"><span>45</span></label>
      </div>
      <div class="row small"><strong>Weights</strong> 
        <label>Alt <input id="w-alt" type="range" min="0" max="1" step="0.05" value="0.35" oninput="this.nextElementSibling.textContent=this.value"><span>0.35</span></label>
        <label>Cloud <input id="w-cloud" type="range" min="0" max="1" step="0.05" value="0.25" oninput="this.nextElementSibling.textContent=this.value"><span>0.25</span></label>
        <label>Moon <input id="w-moon" type="range" min="0" max="1" step="0.05" value="0.25" oninput="this.nextElementSibling.textContent=this.value"><span>0.25</span></label>
        <label>Met <input id="w-met" type="range" min="0" max="1" step="0.05" value="0.15" oninput="this.nextElementSibling.textContent=this.value"><span>0.15</span></label>
      </div>
      <p class="small">Targets below Min Alt are rejected. Weights auto-normalize.</p>
    </div>
  </div>
</section>
<section class="wrap">
  <div class="card" data-collapsible="top5">
    <header class="card-head"><h3>Top 5 Recommendations</h3><button class="toggle" aria-expanded="true" aria-controls="body-top5" type="button">▾</button></header>
    <div class="card-body" id="body-top5"><p class="small">Altitude + clouds + Moon separation; Sun < -12 deg required.</p><ol id="top5"></ol></div>
  </div>
</section>
<section class="wrap">
  <div class="card collapsed" data-collapsible="catalog">
    <header class="card-head"><h3>Catalog (subset)</h3><button class="toggle" aria-expanded="false" aria-controls="body-catalog" type="button">▸</button></header>
    <div class="card-body" id="body-catalog">
      <div class="row"><input id="search" type="search" placeholder="Search Messier subset..."></div>
      <div id="table"></div>
    </div>
  </div>
</section>
<footer class="foot"><span>v23.1</span></footer>
<script src="messier_subset.js?v=21"></script><script src="app.v223.js"></script><script src="collapse.js?v=21"></script>
<script>if('serviceWorker' in navigator){window.addEventListener('load',()=>{navigator.serviceWorker.register('./sw.js?v=21').catch(()=>{});});}</script>
<div id="toast" class="toast" role="status" aria-live="polite"></div>
</body></html>