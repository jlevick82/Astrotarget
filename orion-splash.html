<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AstroTarget Splash</title>
<style>
  body {
    margin: 0;
    background: black;
    overflow: hidden;
    color: white;
    font-family: 'Arial', sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
  }
  canvas {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    z-index: 0;
  }
  #logo {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    font-size: 8vw;
    font-weight: bold;
    z-index: 1;
  }
  #astro {
    color: #66ccff;
    opacity: 0;
    transform: translateX(-100vw);
    letter-spacing: 0.3em;
  }
  #reticle {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-top: 0.5em;
  }
  .caret {
    font-size: 0.8em;
    color: #0ff;
    line-height: 0.8;
  }
  #target {
    opacity: 0;
    transform: translateY(-100vh);
    color: #ff6666;
    line-height: 1.2;
    text-align: center;
  }
  #target span { display: block; }
  #crosshair {
    position: absolute;
    width: 20vw;
    height: 20vw;
    border-radius: 50%;
    border: 2px solid rgba(0,255,255,0.5);
    box-shadow: 0 0 15px rgba(0,255,255,0.7);
    opacity: 0;
    animation: pulse 2s infinite alternate;
    z-index: 0;
    pointer-events: none;
  }
  #tagline {
    margin-top: 2vh;
    font-size: 3.5vw;
    opacity: 0;
    color: #ccc;
    font-style: italic;
    z-index: 1;
  }
  #bootChecks {
    position: fixed;
    bottom: 5%;
    width: 90%;
    max-width: 600px;
    text-align: left;
    font-family: monospace;
    font-size: 3.2vw;
    z-index: 1;
    max-height: 25vh;
    overflow: hidden; /* hide old lines */
  }
  #bootChecks div {
    animation: fadeSlide 1s forwards;
  }
  .ok { color: #0f0; }
  .fail { color: #f33; }
  .wait { color: #ff0; }
  /* Animations */
  .fadeIn { animation: fadeIn 2s forwards; }
  .slideInX { animation: slideInX 2s forwards; }
  .slideInY { animation: slideInY 2s forwards; }
  @keyframes fadeIn { to { opacity: 1; } }
  @keyframes slideInX { to { opacity: 1; transform: translateX(0); } }
  @keyframes slideInY { to { opacity: 1; transform: translateY(0); } }
  @keyframes pulse {
    from { opacity: 0.2; transform: scale(0.9); }
    to { opacity: 0.6; transform: scale(1.1); }
  }
  @keyframes fadeSlide {
    from { opacity: 0; transform: translateY(10px); }
    to   { opacity: 1; transform: translateY(0); }
  }
</style>
</head>
<body>

<canvas id="starfield"></canvas>
<div id="crosshair"></div>

<div id="logo">
  <span id="astro">A S T R O</span>
  <div id="reticle">
    <div class="caret">^</div>
    <div class="caret">^</div>
    <span id="target">
      <span>T</span><span>A</span><span>R</span><span>G</span><span>E</span><span>T</span>
    </span>
  </div>
</div>

<div id="tagline">“The sky hides many secrets — only explorers will find them.”</div>
<div id="bootChecks"></div>

<script>
const canvas = document.getElementById("starfield");
const ctx = canvas.getContext("2d");
function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

// === Smooth twinkling stars ===
let stars = [];
for (let i=0;i<200;i++) {
  stars.push({
    x: Math.random()*canvas.width,
    y: Math.random()*canvas.height,
    r: Math.random()*1.5,
    phase: Math.random()*Math.PI*2
  });
}
function drawStars() {
  ctx.globalAlpha = 1.0;
  ctx.fillStyle = "black";
  ctx.fillRect(0,0,canvas.width,canvas.height);
  stars.forEach(s=>{
    s.phase += 0.02;
    const alpha = 0.6 + 0.4*Math.sin(s.phase);
    ctx.globalAlpha = alpha;
    ctx.beginPath();
    ctx.arc(s.x, s.y, s.r, 0, 2*Math.PI);
    ctx.fillStyle="white";
    ctx.fill();
  });
  ctx.globalAlpha = 1.0;
  requestAnimationFrame(drawStars);
}
drawStars();

// === Animations ===
setTimeout(()=>document.getElementById("astro").classList.add("slideInX"),1000);
setTimeout(()=>document.getElementById("target").classList.add("slideInY"),2000);
setTimeout(()=>document.getElementById("crosshair").style.opacity="1",3000);
setTimeout(()=>document.getElementById("tagline").classList.add("fadeIn"),4000);

// Boot checks
const bootChecks = document.getElementById("bootChecks");
function logCheck(msg, status="wait", delay=0) {
  setTimeout(()=>{
    let line = document.createElement("div");
    line.className = status;
    line.textContent = msg;
    bootChecks.appendChild(line);

    // Keep only last 6 visible
    const lines = bootChecks.querySelectorAll("div");
    if (lines.length > 6) {
      bootChecks.removeChild(lines[0]);
    }
  }, delay);
}
logCheck("⏳ Loading catalogs...", "wait", 4500);
logCheck("✅ Messier loaded (110 objects)", "ok", 6000);
logCheck("✅ Caldwell loaded (109 objects)", "ok", 7000);
logCheck("✅ BrightNGC loaded (100 objects)", "ok", 8000);
logCheck("⏳ Initializing scope presets...", "wait", 9000);
logCheck("✅ Scope presets ready", "ok", 10000);
logCheck("✅ Camera presets ready", "ok", 11000);
logCheck("⏳ Fetching GPS...", "wait", 12000);
logCheck("✅ GPS locked (38.89°N, 77.03°W)", "ok", 13500);
logCheck("⏳ Connecting to NASA APOD...", "wait", 14500);
logCheck("✅ APOD loaded", "ok", 16000);
logCheck("✅ Initialization complete", "ok", 17500);
</script>
</body>
</html>
